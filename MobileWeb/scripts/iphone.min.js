var MessageLoad='<div id="progress"><p>&nbsp;</p><p>Loading...</p><p>&nbsp;</p></div>',MessageLoadLogout='<div><div id="progresslogout"><p>&nbsp;</p><p>Logging out...</p><p>&nbsp;</p></div></div>',MessageError='<div class="styleError">There has been an error while processing your page. Please try again.<br />If the error persists, please refresh this page using the browser address bar and try again.</div>',AppType="";$(document).ready(function(){TraversePage()});function TraversePage(){$("#password").focus(function(){$("#password").val("")});$("#password").click(function(){$("#password").val("")});$("#password").tap(function(){$("#password").val("")});$("#loginbutton").tap(function(){ProcessLogin()});$(".button.logout").click(function(a){ProcessLogout(a)});$('a[href="#AppointmentList"]').click(function(){AppType="AppList";var a=this.attributes.linkattib.value,b="#AppointmentListContents",c="#AppointmentList";ProcessArrowlessPageLink(a,c,b)});$('a[href="#AppointmentImage"]').click(function(){AppType="AppImage";var a=this.attributes.linkattib.value,b="#AppointmentImageContents",c="#AppointmentImage";ProcessArrowlessPageLink(a,c,b)});$('a[href="#PharmacyList"]').click(function(){var a=this.attributes.linkattib.value,b="#PharmacyListContents",c="#PharmacyList";ProcessArrowlessPageLink(a,c,b)});$('a[href="#PatientList"]').tap(function(){var a=this.attributes.linkattib.value,b="#PatientListContents",c="#PatientList";ProcessArrowlessPageLink(a,c,b);$("#searchpatientbox").val("")});$("#searchbutton").tap(function(d){var c=$("#searchpatientbox").val(),a="PatientList.aspx?searchterm="+c,b="#PatientListContents";ProcessPreviousNextButton(d,a,b)});$('a[href="#AppointmentDetails"]').tap(function(d){var a=this.attributes.linkattib.value,b="#AppointmentDetailsContents",c="#AppointmentDetails";ProcessNormalPageLink(d,a,c,b)});$('a[href="#PatientDetails"]').tap(function(d){var a=this.attributes.linkattib.value,b="#PatientDetailsContents",c="#PatientDetails";ProcessNormalPageLink(d,a,c,b)});$('a[href="#PharmacyDetails"]').tap(function(d){var a=this.attributes.linkattib.value,b="#PharmacyDetailsContents",c="#PharmacyDetails";ProcessNormalPageLink(d,a,c,b)});$("#previous").tap(function(c){var a=this.attributes.linkattib.value,b="#AppointmentListContents";ProcessPreviousNextButton(c,a,b)});$("#previousApImage").tap(function(c){var a=this.attributes.linkattib.value,b="#AppointmentImageContents";ProcessPreviousNextButton(c,a,b)});$("#datepickerbutton").tap(function(h){var c="AppointmentFilter.aspx",f="#FilterPickerContents",g="#FilterPicker";ProcessNormalPageLink(h,c,g,f);var b=parseInt(a("DemoDateCookieY")),e=parseInt(a("DemoDateCookieM")),d=parseInt(a("DemoDateCookieD"));b!=null&&b!=""&&!isNaN(b)&&$("#datepicker").datepicker("setDate",new Date(b,e-1,d))});$("#next").tap(function(c){var a=this.attributes.linkattib.value,b="#AppointmentListContents";ProcessPreviousNextButton(c,a,b)});$("#nextApImage").tap(function(c){var a=this.attributes.linkattib.value,b="#AppointmentImageContents";ProcessPreviousNextButton(c,a,b)});$(".appts").tap(function(){var a="AppointmentList.aspx",b="#AppointmentListContents",c="#AppointmentList",d=$("#provlist option:selected").val();if(AppType=="AppImage"){a="AppointmentImage.aspx?ProvNum="+d;b="#AppointmentImageContents";c="#AppointmentImage"}else a="AppointmentList.aspx?ProvNum="+d;ProcessReversePageLink(a,c,b)});$(".patients").tap(function(){var c=$("#searchpatientbox").val(),a="PatientList.aspx?searchterm="+c,b="#PatientListContents",d="#PatientList";ProcessReversePageLink(a,d,b)});$(".pharmacies").tap(function(){var a=this.attributes.linkattib.value,b="#PharmacyListContents",c="#PharmacyList";ProcessReversePageLink(a,c,b)});var b=jQuery.datepicker._gotoToday;jQuery.datepicker._gotoToday=function(e){var h=jQuery(e),b=this._getInst(h[0]),c=parseInt(a("DemoDateCookieY")),g=parseInt(a("DemoDateCookieM")),f=parseInt(a("DemoDateCookieD"));if(c!=null&&c!=""&&!isNaN(c)){b.selectedYear=c;b.selectedMonth=g-1;b.selectedDay=f}else{var d=new Date;b.selectedYear=d.getFullYear();b.selectedMonth=d.getMonth();b.selectedDay=d.getDate()}jQuery.datepicker._selectDate(e,jQuery.datepicker._formatDate(b,b.selectedDay,b.selectedMonth,b.selectedYear))};function a(e){for(var c,d,b=document.cookie.split(";"),a=0;a<b.length;a++){c=b[a].substr(0,b[a].indexOf("="));d=b[a].substr(b[a].indexOf("=")+1);c=c.replace(/^\s+|\s+$/g,"");if(c==e)return unescape(d)}}$("#datepicker").datepicker({onSelect:function(f){var b=$.datepicker.parseDate("mm/dd/yy",f),h=b.getDate(),i=b.getMonth()+1,j=b.getFullYear(),a="AppointmentList.aspx",c="#AppointmentListContents",d="#AppointmentList",g=$("#provlist option:selected").val(),e="year="+j+"&month="+i+"&day="+h+"&ProvNum="+g;if(AppType=="AppImage"){a="AppointmentImage.aspx?"+e;c="#AppointmentImageContents";d="#AppointmentImage"}else a="AppointmentList.aspx?"+e;ProcessArrowlessPageLink(a,d,c)},showButtonPanel:true});$(".home").click(function(){jQT.goToReverse("#home","slide")})}function ProcessNormalPageLink(b,c,d,a){b.preventDefault();$(a).append(MessageLoad);b.currentTarget.attributes==null&&jQT.goTo(d,"slide");FetchPage(c,a)}function ProcessArrowlessPageLink(b,c,a){$(a).append(MessageLoad);jQT.goTo(c,"");FetchPage(b,a)}function ProcessReversePageLink(b,c,a){$(a).append(MessageLoad);jQT.goToReverse(c,"slide");FetchPage(b,a)}function ProcessPreviousNextButton(c,b,a){c.preventDefault();$(a).append(MessageLoad);FetchPage(b,a)}function FetchPage(b,a){$.ajax({type:"GET",url:b,success:function(e){var b=$(e),c=b.filter("#loggedin").text(),d=b.filter("#content").html();if(c=="LoggedIn")$(a).html(d);else jQT.goTo("#login","flip")},error:function(d,c,b){$(a).html(MessageError+c+b)}})}function ProcessLogin(){var d=$("#username").val(),c=$("#password").val(),a=$("#rememberusername").attr("checked"),b="username="+d+"&password="+c+"&rememberusername="+a;$("#login").append(MessageLoad);$.ajax({type:"POST",url:"ProcessLogin.aspx",data:b,success:function(a){$("#progress").replaceWith("");if(a=="CorrectLogin"){$("#LabelMessage").text("");jQT.goTo("#home")}else $("#LabelMessage").text(a)}});return false}function ProcessLogout(b){b.preventDefault();var a=$("#logoutmessage").html();$("#logoutmessage").html("");$("#logoutmessage").append(MessageLoadLogout);jQT.goTo("#logout");$.ajax({type:"GET",url:"ProcessLogout.aspx",data:"",success:function(b){if(b=="LoggedOut"){$("#progresslogout").replaceWith("");$("#logoutmessage").html(a);$("#password").val("")}}})}function areaClicked(c){UrlForFetchingData=c;var a="#AppointmentDetailsContents",b="#AppointmentDetails";ProcessArrowlessPageLink(UrlForFetchingData,b,a)};